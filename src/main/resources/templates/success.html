<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<div th:replace="fragments/head :: head(#{${page.pageTitle}})"></div>
<body>
<div class="page-wrapper">
    <div th:replace="fragments/demoBanner"></div>
    <section class="slab slab--shiba">
        <div class="grid">
            <div class="card spacing-above-35">
                <div class="grid__item bottom-horizontal-line">
                    <i class="icon-check_circle large"></i>
                    <h2 class="spacing-below-0" th:text="|#{success.success}!|"></h2>
                    <h3 id="application-id" class="spacing-below-10"
                        th:text="|#{success.confirmation-number}: ${applicationId}|"></h3>
                    <p th:if="${county != T(org.codeforamerica.shiba.County).OTHER}" class="spacing-below-35"
                       id="submission-date">
                        <span th:text="|#{success.application-submitted-to} |"></span>
                        <span class="capitalized" th:text="${county.name().toLowerCase()}"></span>
                        <span th:text="#{success.county-on}"></span>
                        <span th:text="| ${T(java.time.format.DateTimeFormatter).ofPattern('MMMM d, yyyy', #locale).format(submissionTime)}.|"></span>
                    </p>
                    <p th:if="${county == T(org.codeforamerica.shiba.County).OTHER}" class="spacing-below-35"
                       id="submission-date"
                       th:text="|#{success.application-submitted-on} ${T(java.time.format.DateTimeFormatter).ofPattern('MMMM d, yyyy', #locale).format(submissionTime)}.|"></p>
                </div>
                <div class="grid__item spacing-above-35">
                    <h3 th:text="#{success.new-weve-generated-a-receipt-of-your-application-for-your-records}"></h3>
                    <img src="/images/receipt.svg" alt="receipt icon"/>
                    <div class="spacing-above-25 spacing-below-35">
                        <div>
                            <a class="button button--primary" href="/download"
                               th:text="#{success.download-my-receipt}"></a>
                        </div>
                    </div>
                </div>
                <div class="grid__item spacing-above-35 bottom-horizontal-line spacing-below-35">
                    <h3 th:text="#{success.what-to-expect-next}"></h3>
                    <p>
                        <strong th:text="#{success.your-county-will-call-you}"></strong>
                        <span th:text="#{success.in-the-next-week-for-your-phone-interview-the-call-may-come-from-a-blocked-number}"></span>
                    </p>
                    <p>
                        <strong th:text="#{success.the-interview-will-take-about-30-minutes}"></strong>
                        <span th:text="#{success.a-worker-will-ask-you-about-your-household-income-expenses-and-other-eligibility-requirements}"></span>
                    </p>
                    <p>
                        <span th:text="#{success.in-some-cases}"></span>
                        <strong th:text="#{success.a-county-worker-may-ask-you-to-send-them-additional-proof}"></strong>
                        <span th:text="#{success.of-your-situation-within-30-days}"></span>
                    </p>
                </div>
                <h3>
                    <label th:text="#{success.how-was-your-experience-filling-out-the-combined-benefits-application}"
                           for="feedback-textarea"></label>
                </h3>
                <div class="form-group">
                    <form method="post" th:action="'/submit-feedback'">
<!--                        TODO: Figure out whether the checked attribute needs to be added -->
                        <input type="radio" class="hide-radio-circle" id="happy" name="sentiment" value="HAPPY">
                        <label class="feedback-buttons emoji emoji--small emoji--grinning-face" for="happy"></label>
                        <input type="radio" class="hide-radio-circle" id="meh" name="sentiment" value="MEH">
                        <label class="feedback-buttons emoji emoji--small emoji--neutral-face" for="meh"></label>
                        <input type="radio" class="hide-radio-circle" id="sad" name="sentiment" value="SAD">
                        <label class="feedback-buttons emoji emoji--small emoji--frowning-face" for="sad"></label>
<!--                        TODO: Figure out whether the value attribute needs to be added -->
                        <textarea autocomplete="off" autocapitalize="off" spellcheck="false"
                                  class="textarea spacing-above-25 spacing-below-35" rows="2"
                                  aria-describedby="form_example_method_name__errors"
                                  name="feedback" id="feedback-textarea"
                                  th:placeholder="#{success.do-you-have-any-feedback-for-us}"></textarea>
                        <p class="text--error" th:if="${feedbackFailure != null}">
                            <i class="icon-warning"></i>
                            <span th:text="${feedbackFailure}"></span>
                        </p>
                        <p class="text--green" th:if="${feedbackSuccess != null}">
                            <i class="icon-check"></i>
                            <span th:text="${feedbackSuccess}"></span>
                        </p>
                        <button type="submit" class="button button--primary"
                                th:text="#{success.submit-feedback}"></button>
                    </form>
                </div>
            </div>
        </div>
    </section>
</div>
<div th:replace="fragments/footer"></div>
</body>
</html>